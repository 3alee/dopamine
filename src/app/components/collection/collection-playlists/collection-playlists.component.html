<div class="collection-viewport">
    <as-split gutterSize="4" unit="percent" direction="horizontal" (dragEnd)="splitDragEnd($event)">
        <as-split-area [size]="leftPaneSize" minSize="5" maxSize="95"
            ><div class="left-side-pane">
                <div class="playlist-folder-browser p-3">
                    <div class="playlist-folder-browser__header m-1 no-select">
                        <div class="playlist-folder-browser__count">
                            <div class="playlist-folder-browser__number mr-2">{{ this.playlistFolders.length }}</div>
                            <div *ngIf="this.playlistFolders.length === 1">{{ 'playlist-folder' | translate }}</div>
                            <div *ngIf="this.playlistFolders.length !== 1">{{ 'playlist-folders' | translate }}</div>
                        </div>
                        <div
                            class="playlist-folder-browser__add-button pointer secondary-text las la-plus"
                            matTooltip="{{ 'create-playlist-folder' | translate }}"
                            (click)="createPlaylistFolderAsync()"
                        ></div>
                    </div>
                    <cdk-virtual-scroll-viewport class="mt-3 playlist-folder-browser__list" itemSize="28">
                        <div
                            *cdkVirtualFor="let playlistFolder of playlistFolders"
                            matRipple
                            (contextmenu)="onPlaylistFolderContextMenu($event, playlistFolder)"
                            (click)="setSelectedPlaylistFolders($event, playlistFolder)"
                        >
                            <div
                                class="playlist-folder__name no-select ellipsis px-1"
                                [ngClass]="{
                                    'selected-item-background': playlistFolder.isSelected,
                                    'selected-item-text-color-important':
                                        playlistFolder.isSelected && this.appearanceService.shouldOverrideSelectedItemText
                                }"
                            >
                                {{ playlistFolder | playlistFolderName }}
                            </div>
                        </div>
                    </cdk-virtual-scroll-viewport>
                </div>
            </div></as-split-area
        >
        <as-split-area [size]="centerPaneSize" minSize="5" maxSize="95"></as-split-area>
        <as-split-area [size]="rightPaneSize" minSize="5" maxSize="95"><div class="right-side-pane"></div></as-split-area>
    </as-split>
</div>
<div
    style="visibility: hidden; position: fixed"
    [style.left]="playlistFolderContextMenuPosition.x"
    [style.top]="playlistFolderContextMenuPosition.y"
    [matMenuTriggerFor]="playlistFolderContextMenu"
></div>
<mat-menu #playlistFolderContextMenu="matMenu">
    <ng-template matMenuContent let-playlistFolder="playlistFolder">
        <button mat-menu-item (click)="onRenamePlaylistFolder(playlistFolder)">{{ 'rename' | translate }}</button>
        <button mat-menu-item (click)="onDeletePlaylistFolder(playlistFolder)">{{ 'delete' | translate }}</button>
    </ng-template>
</mat-menu>
